{"ast":null,"code":"const express = require('express');\nconst app = express();\nconst port = 4000;\nconst React = require('react');\nconst ReactDOMServer = require('react-dom/server');\nconst bodyParser = require('body-parser');\nconst EventEmitter = require('events');\nconst customEmitter = new EventEmitter();\n\n// Sample student data\nconst students = [{\n  id: 1,\n  name: 'Mia',\n  grade: 'B'\n}, {\n  id: 2,\n  name: 'Khia',\n  grade: 'B'\n}, {\n  id: 3,\n  name: 'Remy',\n  grade: 'C'\n}, {\n  id: 4,\n  name: 'Nicki',\n  grade: 'A'\n}, {\n  id: 5,\n  name: 'Emily',\n  grade: 'B'\n}, {\n  id: 6,\n  name: 'Lizz',\n  grade: 'D'\n}, {\n  id: 7,\n  name: 'Sam',\n  grade: 'C'\n}\n// Add more sample students as needed\n];\n\n// Helper function to filter students\nasync function filterStudents(query) {\n  try {\n    let filteredStudents = [...students];\n    if (query.grade) {\n      filteredStudents = filteredStudents.filter(student => student.grade === query.grade);\n    }\n    if (query.sort === 'name') {\n      filteredStudents.sort((a, b) => a.name.localeCompare(b.name));\n    } else if (query.sort === 'grade') {\n      filteredStudents.sort((a, b) => a.grade.localeCompare(b.grade));\n    }\n    return filteredStudents;\n  } catch (error) {\n    throw error;\n  }\n}\n\n// Helper function to paginate students\nfunction paginateStudents(data, page, pageSize) {\n  const startIndex = (page - 1) * pageSize;\n  const endIndex = startIndex + pageSize;\n  return data.slice(startIndex, endIndex);\n}\n\n// Version 1 of the API\napp.get('/api/v1/students', async (req, res, next) => {\n  try {\n    const query = {\n      grade: req.query.grade,\n      sort: req.query.sort\n    };\n    const filteredStudents = await filterStudents(query);\n    const page = parseInt(req.query.page) || 1;\n    const pageSize = parseInt(req.query.pageSize) || 10;\n    const paginatedStudents = paginateStudents(filteredStudents, page, pageSize);\n    if (page < 1 || paginatedStudents.length === 0) {\n      const error = new Error('Page not found');\n      error.statusCode = 404;\n      throw error;\n    }\n    res.json(paginatedStudents);\n  } catch (error) {\n    next(error); // Pass the error to Express's error handling middleware\n  }\n});\n\n// Custom event example\napp.get('/custom-event', (req, res, next) => {\n  try {\n    // Emit a custom event\n    customEmitter.emit('customEvent', 'Custom event was triggered');\n    res.send('Custom event emitted.');\n  } catch (error) {\n    next(error);\n  }\n});\n\n// ... (rest of your Express server code)\n\n// Create a server using HTTP Module\n// ... (code for creating an HTTP server)\n\n// REST APIs\n// ... (code for creating and managing users)\n\n// FunctionalStudentList component\nfunction FunctionalStudentList() {\n  // ... (code for the FunctionalStudentList component)\n}\n\n// ClassStudentList component\n_c = FunctionalStudentList;\nclass ClassStudentList extends React.Component {\n  // ... (code for the ClassStudentList component)\n}\n\n// ConditionalRenderingExample component\nfunction ConditionalRenderingExample() {\n  // ... (code for the ConditionalRenderingExample component)\n}\n\n// ... (rest of your React components)\n\n// ... (further code and functions)\n_c2 = ConditionalRenderingExample;\napp.listen(port, () => {\n  console.log(`Server is running on port ${port}`);\n});\nvar _c, _c2;\n$RefreshReg$(_c, \"FunctionalStudentList\");\n$RefreshReg$(_c2, \"ConditionalRenderingExample\");","map":{"version":3,"names":["express","require","app","port","React","ReactDOMServer","bodyParser","EventEmitter","customEmitter","students","id","name","grade","filterStudents","query","filteredStudents","filter","student","sort","a","b","localeCompare","error","paginateStudents","data","page","pageSize","startIndex","endIndex","slice","get","req","res","next","parseInt","paginatedStudents","length","Error","statusCode","json","emit","send","FunctionalStudentList","_c","ClassStudentList","Component","ConditionalRenderingExample","_c2","listen","console","log","$RefreshReg$"],"sources":["/Users/anvir/Documents/Semester 3/Modern Web/miniprojects/src/App.js"],"sourcesContent":["const express = require('express');\nconst app = express();\nconst port = 4000;\n\nconst React = require('react');\nconst ReactDOMServer = require('react-dom/server');\nconst bodyParser = require('body-parser');\n\nconst EventEmitter = require('events');\nconst customEmitter = new EventEmitter();\n\n// Sample student data\nconst students = [\n  { id: 1, name: 'Mia', grade: 'B' },\n  { id: 2, name: 'Khia', grade: 'B' },\n  { id: 3, name: 'Remy', grade: 'C' },\n  { id: 4, name: 'Nicki', grade: 'A' },\n  { id: 5, name: 'Emily', grade: 'B' },\n  { id: 6, name: 'Lizz', grade: 'D' },\n  { id: 7, name: 'Sam', grade: 'C' },\n  // Add more sample students as needed\n];\n\n// Helper function to filter students\nasync function filterStudents(query) {\n  try {\n    let filteredStudents = [...students];\n\n    if (query.grade) {\n      filteredStudents = filteredStudents.filter(student => student.grade === query.grade);\n    }\n\n    if (query.sort === 'name') {\n      filteredStudents.sort((a, b) => a.name.localeCompare(b.name));\n    } else if (query.sort === 'grade') {\n      filteredStudents.sort((a, b) => a.grade.localeCompare(b.grade));\n    }\n\n    return filteredStudents;\n  } catch (error) {\n    throw error;\n  }\n}\n\n// Helper function to paginate students\nfunction paginateStudents(data, page, pageSize) {\n  const startIndex = (page - 1) * pageSize;\n  const endIndex = startIndex + pageSize;\n  return data.slice(startIndex, endIndex);\n}\n\n// Version 1 of the API\napp.get('/api/v1/students', async (req, res, next) => {\n  try {\n    const query = {\n      grade: req.query.grade,\n      sort: req.query.sort,\n    };\n\n    const filteredStudents = await filterStudents(query);\n\n    const page = parseInt(req.query.page) || 1;\n    const pageSize = parseInt(req.query.pageSize) || 10;\n    const paginatedStudents = paginateStudents(filteredStudents, page, pageSize);\n\n    if (page < 1 || paginatedStudents.length === 0) {\n      const error = new Error('Page not found');\n      error.statusCode = 404;\n      throw error;\n    }\n\n    res.json(paginatedStudents);\n  } catch (error) {\n    next(error); // Pass the error to Express's error handling middleware\n  }\n});\n\n\n// Custom event example\napp.get('/custom-event', (req, res, next) => {\n  try {\n    // Emit a custom event\n    customEmitter.emit('customEvent', 'Custom event was triggered');\n    res.send('Custom event emitted.');\n  } catch (error) {\n    next(error);\n  }\n});\n\n// ... (rest of your Express server code)\n\n// Create a server using HTTP Module\n// ... (code for creating an HTTP server)\n\n// REST APIs\n// ... (code for creating and managing users)\n\n// FunctionalStudentList component\nfunction FunctionalStudentList() {\n  // ... (code for the FunctionalStudentList component)\n}\n\n// ClassStudentList component\nclass ClassStudentList extends React.Component {\n  // ... (code for the ClassStudentList component)\n}\n\n// ConditionalRenderingExample component\nfunction ConditionalRenderingExample() {\n  // ... (code for the ConditionalRenderingExample component)\n}\n\n// ... (rest of your React components)\n\n// ... (further code and functions)\n\napp.listen(port, () => {\n  console.log(`Server is running on port ${port}`);\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}